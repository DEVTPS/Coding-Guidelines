Руководство по разработке приложения на Domino
================

В данном документе предоставлено руководство по разработке приложений на платформе IBM Domino в компании ТПС.


# Создание файла БД на сервере разработки
## Требование к расположению
Расположение базы данных зависит от того, ради чего она создается. 
Если это эксперимент, то ее необходимо разместить в папке разработчика. Например, 

> salpagarov\test.nsf


Если это новый ПМ, то надо сначало согласовать с архитектором [ключ](#Требования-к-ключу-базы-данных) для этого ПМ. После того, как ключ согласован, база данных должна размещаться *строго* в соответствии с ключем. Например,  

> ключ: tps.workflow.conferences  
> путь: tps\workflow\conferences.nsf  

![#f03c15](https://placehold.it/15/f03c15/000000?text=+) `Не надо добавлять в конце или начале имени файла префиксы и прочее`

## Требование к названию  

# Настройка доступа
## Обязательные записи  

| Название записи     | Уровень доступа | CD  | RD  | CPA |CPFV |CSFV |CLSJA| RPD | WPD | RCD |
| --------------------| ----------------|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| Default             | No Access       |     |     |     |     |     |     |     |     |     |
| Anonymous           | No Access       |     |     |     |     |     |     |     |     |     |
| LocalDomainAdmins   | Manager         |  +  |  +  |  +  |  +  |  +  |  +  |  +  |  +  |  +  |
| LocalDomainServers  | Manager         |  +  |  +  |  +  |  +  |  +  |  +  |  +  |  +  |  +  |
| OtherDomainServers  | No Access       |     |     |     |     |     |     |     |     |     |
| DEV.All.Users       | Author          |  +  |     |     |     |     |     |     |     |     |
| DEV.<KEY*>.Editors  | Editor          |     |     |     |     |     |     |     |     |     |

## Обязательные роли  
| Название роли       | Описание                                                                  |
| --------------------| --------------------------------------------------------------------------|
| support             | Специалисты технической поддержки пользователей - видят все поля и кнопки |

# Регистрация в FByte.Platform
## Требования к ключу базы данных  
Значение ключа зависит от следующих параметров:
* Ключ компании - по умолчанию, это **tps**. Если необходимо сделать форк, то ключ меняется. Например,  
  * **tps**.legal.contracts.approval - ПМ "Согласование договоров"
  * **tps.re**.legal.contracts.approval - ПМ "Согласование договоров. ТПС Н"
  * **svo**.legal.contracts.approval - ПМ "Согласование договоров. МАШ"
* Область применения - краеугольный камень . Необходимо очень внимательно подойти к определению типов документов, которые будут храниться в базе данных. Исходя из этого, нужно определить предметную область. Если в текущем описании предметной области нет места, то необходимо 


# Настройка модели данных
## Что такое DDD?  
Domain Driven Design - подход к разработке ПО, ориентированный на объектную модель предметной области. Прежде чем приступать к разработке ПМ, необходимо понять, какие объекты будут участвовать в рамках бизнесс-процессов, которые будут автоматизироваться с помощью нового ПМ.
## Требование к названию классов объектов  
## Требование к названию атрибутов классов
# Создание дизайна приложения
## Требование к наследованию и защите дизайна от обновлений  
## Формы
### Требования к названию  
### Требование к поведению в режиме чтения  
### Требование к поведению в режиме редактирования  
### Требование к размещению компонентов
#### Требования к размещению действий
Действия, которые изменяю состояние формы/документа (Редактировать/Сохранить/Закрыть) располагайте слева.
Действия, которые формируют отчеты, настройки и прочие сервисы - справа.
### Требования к названию полей (атрибуты) 
Поля должны именоваться в нижнем регистре. Разделителем слов должен выступать символ "_" (нижнее подчеркивание).
### Обязательные компоненты
#### Скрытые поля  
#### Заголовок  
#### Связанные документы  
#### Действие Сохранить  
#### Действие Закрыть  
#### Действие Редактировать  

#### Рабочая область
##### Атрибут
Название всегда слева.  
Если атрибут связан со словарем, то:
  - название становится кликабельным
  - между названием и полем повляется кликабельная иконка "очистить"
  - после поля ввода появляется кликабельная надпись "добавить в словарь"
Если атрибут связан со справочником, то:
  - название становится кликабельным
  - между названием и полем повляется кликабельная иконка "очистить"
Если атрибут может содержать несколько значений, то:
    - между названием и полем появляются кликабельные иконки "+" и "-", расположенные вертикально
При разработке новых РК надо всегда придерживаться правила - один атрибут на одной строке.

## Представления
### Требование к названию  
Должно быть написано на русском языке
Если представление выведено в Outline, то название должно содержать в себе названия все категорий через символ \  
Если представление *НЕ* выведено в Outline, то (название должно быть помещено в круглые скобки)  


## Агенты


## Библиотеки кода
### Сервисные
#### Менеджер пакетов
#### Пакет
#### Модуль
### Прочие
## Требование к программному коду
### Именование переменных
Переменные должны именоваться в стиле lowerCamelCase 
#### Префиксы
Имя переменной, которая ссылается на объект, должно в начале содержать префикс, который описывает суть переменной:
* s   - NotesSession
* db  - NotesDatabase
* doc - NotesDocument
* dc  - NotesDocumentCollection
* vw  - NotesView
* ws - NotesWorkspace
* uidoc - NotesUIWorkspace

##### Переменные классов сервисных библиотек
* f - объекты классов библиотек fbyte  
  + fCore - объекты пакета fbyte.core  
  + fBase - объекты пакета fbyte.base  
* t - объекты классов библиотек tps  
  + tCore - объекты классов библиотек tps.core  
  + tWF - объекты классов библиотек tps.workflow  



### Использование профайлов
В процессе разработки приложений для ТПС использование документов профайлов запрещено  
# Настройка шаблона
Требование к ключу шаблона  
Требования к настройкам доступа  
